<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>There and back again---how to preserve your data during transformations</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Tinos:ital,wght@0,400;0,700;1,400;1,700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bulma/0.9.4/css/bulma.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link rel="stylesheet" href="../../../css/site.css">
</head>
<body>
  <!-- Navigation Bar -->
  <nav class="navbar" role="navigation" aria-label="main navigation">
    <div class="navbar-brand">
      <a class="navbar-item" href="https://ach.org">
        <img src="../../../logo/logo.png" alt="ACH Logo">
      </a>

      <a role="button" class="navbar-burger" aria-label="menu" aria-expanded="false" data-target="navbarBasicExample">
        <span aria-hidden="true"></span>
        <span aria-hidden="true"></span>
        <span aria-hidden="true"></span>
      </a>
    </div>

    <div class="navbar-menu" id="navbarMain">
      <div class="navbar-start">
      </div>
      <div class="navbar-end">
        <a class="navbar-item" href="https://anthology.ach.org/">
          <b>Home</b>
        </a>
        <a class="navbar-item" href="https://anthology.ach.org/volumes/vol0001">
          <b>Volumes</b>
        </a>
        <a class="navbar-item" href="https://anthology.ach.org/about">
          <b>About</b>
        </a>
        <span style="width: 25px"></span>
      </div>
    </div>
  </nav>

  <!-- Hero Section -->
  <section class="hero">
    <div class="hero-body">
      <div class="container">
        <p class="subtitle is-6 has-text-grey">Anthology of Computers and the Humanities · <a href="..">Volume 2</a></p>
        <h1 class="title paper-title">There and back again---how to preserve your data during transformations</h1>

        <div class="is-size-5 pl-7 has-text-centered">
          <a href="https://creativecommons.org/licenses/by/4.0/?ref=chooser-v1" target="_blank" rel="license noopener noreferrer" style="display:inline-block;"><img style="height:25px!important;margin-left:3px;vertical-align:text-bottom;" src="https://mirrors.creativecommons.org/presskit/buttons/88x31/png/by.png"></a>
        </div>
      </div>

    </div>
  </section>

  <!-- Main Content -->
  <section class="section">
    <div class="container">

      <div class="paper-meta">
        <div class="authors-container">
          <div class="authors">
            <section class="authors-block">
              <p class="authors">
                  <span class="author">
                    Robert Casties<sup></sup><a class="orcid-link" href="https://orcid.org/0009-0008-9370-1303" target="_blank" rel="noopener">
                        <img class="orcid" src="../../../data/orcid.png" alt="ORCID">
                      </a>
                  </span>
              </p>

              <ul class="affiliations">
                  <li><sup>1</sup> Digital Humanities Team, Max Planck Institute for History of Science, Berlin, Germany</li>
              </ul>
            </section>

          </div>
        </div>
      </div>


      <!-- Download Buttons -->
      <div class="buttons-container">
        <a href="10.63744@GJCCSMz4QBbD.pdf" class="button is-primary" target="_blank">
          <span class="icon">
            <i class="fas fa-file-pdf"></i>
          </span>
          <span>Download PDF</span>
        </a>
        <a href="10.63744@GJCCSMz4QBbD.bib" class="button is-info" target="_blank">
          <span class="icon">
            <i class="fas fa-file-code"></i>
          </span>
          <span>Download Citation</span>
        </a>
        
      </div>

      <!-- DOI -->
      <div class="doi-box">
        <p class="is-size-6">
          <b>Permanent Link:</b> <a class="doi-link" href="https://doi.org/10.63744/GJCCSMz4QBbD" target="_blank">https://doi.org/10.63744/GJCCSMz4QBbD</a>
        </p>
        <p class="is-size-6">
          <b>Published:</b> 17 October 2025
        </p>
      </div>

      <!-- Abstract -->
      <div class="content">
         <div class="abs">
<span>Abstract</span>
<p>Datasets often need to be transformed – from an external file format
into a database, from one database system into another, or from an
outdated legacy system into an archive format. All transformations carry
the risk of data corruption through software errors. What can software
developers do to check data integrity and make sure that data is not
lost or changed in the process? This paper presents three basic
approaches with different degrees of accuracy and complexity,
illustrated by real-world examples. The first example shows simple
end-to-end statistics by counting entities during the import of a
dataset into a database, the next more complex example shows bookkeeping
of entities during the conversion of an HTML website, and the last a
full round-trip migration and comparison of a project database and data
model.</p>
</div>
<h1 data-number="1" id="introduction"><span
class="header-section-number">1</span> Introduction</h1>
<p>Digital Humanities projects work with many kinds of data. But the
data is very rarely created, processed, visualized, backed up and
archived in a single format in only one computer system. It is almost
always transformed in one or more steps between formats and systems. The
journey starts when data is loaded into a database from a source file in
a structured format like XML, JSON, or CSV or an unstructured format
like plain text. This process is also often called ETL (extract,
transform, load). The journey continues when data is migrated from one
database system to a different one or from one data model to another and
it may end when the data is migrated into an archival format for
long-term preservation or other data export formats for users to
download and process. Each of these transformations carries the risk of
inadvertent loss or corruption of data.</p>
<p>Most data transformations are done by software, often by multiple
pieces of software by different authors. The integrity of transformed
data depends therefore on the correctness of the software. The
importance of software and of the correctness of software for the
Digital Humanities has been argued more generally in the context of
improving software quality through code review <span class="citation"
data-cites="damerow_code_2025">(Damerow et al. 2025)</span>. Code review
and software tests as another element of good practice in software
engineering often concentrate on small pieces of code and test small
units with synthetic pieces of data. Software testing typically starts
with isolated unit testing followed by more encompassing integration
testing and system testing <span class="citation"
data-cites="leloudas_introduction_2023">(Leloudas 2023)</span>. Testing
data transformation integrity is not explicitly mentioned, but it could
be considered a type of end-to-end or system test where full, real input
data is compared with the transformed output.</p>
<p>In the following, I present three basic methods that were applied in
different projects to detect data loss and corruption in the data
transformation process. The methods range from simple and easy to
implement counting techniques to the development of rather complex and
work-intensive re-transformation and comparison tools. The costs and
benefits of applying each method have to be considered in the context of
the specific project and development constraints, as in all software
engineering decisions. The effort of considering and implementing
measures to detect data loss and corruption was motivated by the need
for insights into the migration process during the development cycle and
by cases of real data loss in production.</p>
<h1 data-number="2" id="forms-of-data-loss-and-corruption"><span
class="header-section-number">2</span> Forms of data loss and
corruption</h1>
<p>Inadvertent changes to data can be categorized into basic
categories:</p>
<ul>
<li><p>Entries are dropped (fewer than before)</p></li>
<li><p>Entries are added (more than before)</p></li>
<li><p>Entries are corrupted (same number but different content)</p>
<ul>
<li><p>Dropped, added, or corrupted attributes</p></li>
<li><p>Dropped, added, or corrupted relations</p></li>
</ul></li>
</ul>
<p>Depending on the system and data model, what is considered an entry
can vary and attributes or relations of entities may not be strictly
applicable. The concept of an entry being an entity with attributes that
are simple data fields like strings or numbers and separate relations or
references between entities works well for label-graph data models in
graph databases like Neo4J or RDF and for object-oriented models in
systems like Django<a href="#fn1" class="footnote-ref" id="fnref1"
role="doc-noteref"><sup>1</sup></a> that are translated into more
elaborate relational database schemas behind the scenes. The concept
does not necessarily apply to the transformation of HTML or XML. The
basic categories of dropped, added, and corrupted entries apply more
generally.</p>
<h1 data-number="3"
id="method-1-count-entities-before-and-after-transformation"><span
class="header-section-number">3</span> Method 1: Count entities before
and after transformation</h1>
<p>The simplest method is to count the entities in the data set before
and after the transformation and to compare the counts. This method is
easy to implement and able show data loss through dropped or added
entities, but it cannot detect data corruption within the entities.
Cases when an equal number of entities are added and dropped cannot be
detected by this method. The impact of these issues can be reduced if
groups of entities are counted and compared separately. In the example
below, different types of entities are counted separately so that an
added PLACE entity at the same time as a dropped PERSON entity would be
detected even if the total number of entities stays the same.</p>
<p>An example for this method is the import process of an XML data file
into a Drupal<a href="#fn2" class="footnote-ref" id="fnref2"
role="doc-noteref"><sup>2</sup></a> database. The project in question
uses separate systems based on different technologies: a ResearchSpace<a
href="#fn3" class="footnote-ref" id="fnref3"
role="doc-noteref"><sup>3</sup></a> front end used by the domain experts
for creating and editing the full dataset as CIDOC-CRM<a href="#fn4"
class="footnote-ref" id="fnref4" role="doc-noteref"><sup>4</sup></a> RDF
data, and a Drupal website for the public presentation of the project
results.</p>
<p>The ResearchSpace data curation interface creates a custom XML
formatted data dump every night, which is imported into the Drupal
website database. The import process is implemented using a bash script
that extracts the entity count from the XML file for each entity type.
In this case the script uses the existing <code>count</code> attribute
in the custom XML format as seen in Listing <a href="#code:xml-fragment"
data-reference-type="ref"
data-reference="code:xml-fragment">[code:xml-fragment]</a>, but it would
also be possible to use an XML processor to count the relevant XML tags.
After the import process the script runs a <code>drush</code> command to
extract the count of Drupal entities of the same type using a custom
view as seen in Listing <a href="#code:ismi-cnt"
data-reference-type="ref"
data-reference="code:ismi-cnt">[code:ismi-cnt]</a> and compares the
resulting numbers. The script then creates an error notification if the
numbers for each entity type do not match.</p>
<div class="listing">
<div class="sourceCode" id="cb1" data-fontsize="\small"
data-highlightlines="2"><pre class="sourceCode xml"><code class="sourceCode xml"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>&lt;<span class="kw">openmind-data</span> <span class="ot">version=</span><span class="st">&quot;5.1&quot;</span>&gt;</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>  &lt;<span class="kw">entities</span> <span class="ot">count=</span><span class="st">&quot;300&quot;</span>&gt;</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>    &lt;<span class="kw">entity</span> <span class="ot">public=</span><span class="st">&quot;true&quot;</span> <span class="ot">object-class=</span><span class="st">&quot;PLACE&quot;</span> <span class="ot">id=</span><span class="st">&quot;1001961&quot;</span>&gt;Salähiyya madrasa</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>...</span></code></pre></div>
<p><span id="code:xml-fragment"
data-label="code:xml-fragment"></span></p>
</div>
<div class="listing">
<div class="sourceCode" id="cb2" data-fontsize="\small"
data-highlightlines="3"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> drush views:execute count_entities count_entities_csv place</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="ex">count</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="ex">300</span></span></code></pre></div>
<p><span id="code:ismi-cnt" data-label="code:ismi-cnt"></span></p>
</div>
<h1 data-number="4"
id="method-2-track-of-entities-during-transformation-steps"><span
class="header-section-number">4</span> Method 2: Track of entities
during transformation steps</h1>
<p>An intermediate method is internal bookkeeping in a transformation
script. It is often possible to create counts and lists of items as they
are read and compare these numbers or lists to the results of later
stages of the transformation process. This method can detect dropped or
added entities and, depending on the implementation, also some cases of
corrupted entities. If items can be identified and kept in lists or sets
it is possible to differentiate between added and dropped items and
identify which items were added or dropped even if the total count stays
the same.</p>
<p>An example is a migration script that processes hundreds of HTML
files that are the result of web scraping and a separate JSON file
containing the navigation hierarchy exported from a dynamic legacy
Zope<a href="#fn5" class="footnote-ref" id="fnref5"
role="doc-noteref"><sup>5</sup></a> website. The migration script uses
the HTML and JSON input files to create a corrected static HTML website.
The script reads the navigation hierarchy file and the raw HTML files
and processes the HTML by comparing links to other HTML files within the
navigation hierarchy data to create correct links, omit duplicated
files, and find broken links.</p>
<div class="listing">
<div class="sourceCode" id="cb3" data-fontsize="\footnotesize"
data-highlightlines="4,20"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co"># check all links</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>links <span class="op">=</span> <span class="bu">set</span>()</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>nav_path <span class="op">=</span> nav_item[<span class="st">&#39;echo_path&#39;</span>]</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> atag <span class="kw">in</span> soup.find_all(<span class="st">&#39;a&#39;</span>):</span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> <span class="st">&#39;href&#39;</span> <span class="kw">in</span> atag.attrs:</span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>        link <span class="op">=</span> atag[<span class="st">&#39;href&#39;</span>].strip()</span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>...</span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>        <span class="co"># process interactive map links</span></span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> <span class="st">&#39;onmouseover&#39;</span> <span class="kw">in</span> atag.attrs:</span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a>            <span class="co"># get linked item from id</span></span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a>            m <span class="op">=</span> maplink_id_pattern.match(atag[<span class="st">&#39;id&#39;</span>])</span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a>            <span class="cf">if</span> m:</span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a>                nav_link <span class="op">=</span> nav_path <span class="op">+</span> <span class="st">&#39;/&#39;</span> <span class="op">+</span> m.group(<span class="dv">1</span>).replace(<span class="st">&#39; &#39;</span>, <span class="st">&#39;%20&#39;</span>)</span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a>                <span class="cf">if</span> nav_link <span class="kw">in</span> args.nav_struct:</span>
<span id="cb3-15"><a href="#cb3-15" aria-hidden="true" tabindex="-1"></a>                    link_item <span class="op">=</span> args.nav_struct[nav_link]</span>
<span id="cb3-16"><a href="#cb3-16" aria-hidden="true" tabindex="-1"></a>                    <span class="cf">if</span> link_item[<span class="st">&#39;type&#39;</span>] <span class="op">==</span> <span class="st">&#39;ECHO_resource&#39;</span>:</span>
<span id="cb3-17"><a href="#cb3-17" aria-hidden="true" tabindex="-1"></a>                        <span class="cf">if</span> <span class="st">&#39;link&#39;</span> <span class="kw">in</span> link_item <span class="kw">and</span> <span class="st">&#39;digilib.html?&#39;</span> <span class="kw">in</span> link_item[<span class="st">&#39;link&#39;</span>]:</span>
<span id="cb3-18"><a href="#cb3-18" aria-hidden="true" tabindex="-1"></a>                            <span class="co"># replace link to ECHO_resource linking to digilib</span></span>
<span id="cb3-19"><a href="#cb3-19" aria-hidden="true" tabindex="-1"></a>                            atag[<span class="st">&#39;href&#39;</span>] <span class="op">=</span> link_item[<span class="st">&#39;link&#39;</span>]</span>
<span id="cb3-20"><a href="#cb3-20" aria-hidden="true" tabindex="-1"></a>                            processed_items.add(nav_link)</span>
<span id="cb3-21"><a href="#cb3-21" aria-hidden="true" tabindex="-1"></a>                            <span class="cf">continue</span></span>
<span id="cb3-22"><a href="#cb3-22" aria-hidden="true" tabindex="-1"></a>...                        </span>
<span id="cb3-23"><a href="#cb3-23" aria-hidden="true" tabindex="-1"></a>        <span class="co"># add to be processed later</span></span>
<span id="cb3-24"><a href="#cb3-24" aria-hidden="true" tabindex="-1"></a>        links.add(link)</span></code></pre></div>
<p><span id="code:echo-loop" data-label="code:echo-loop"></span></p>
</div>
<p>During the process the script keeps a list of processed HTML files,
and the links in each file, indexed by URL, as a Python set. Listing <a
href="#code:echo-loop" data-reference-type="ref"
data-reference="code:echo-loop">[code:echo-loop]</a> shows a part of the
main loop running through all HTML <code>a</code> tags representing
links in a document, fixing the links and adding the successfully
processed links to the set of processed links.</p>
<div class="listing">
<div class="sourceCode" id="cb4" data-fontsize="\footnotesize"
data-highlightlines="2,13"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="co"># initialize processed_items with ignore_items</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>args.processed_items <span class="op">=</span> <span class="bu">set</span>(args.ignore_items)</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>args.processed_files <span class="op">=</span> <span class="bu">set</span>()</span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a><span class="co"># process files starting at index page</span></span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>start_file <span class="op">=</span> args.echo_section <span class="op">+</span> <span class="st">&#39;/index.html&#39;</span></span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a>logging.info(<span class="ss">f&quot;start processing at </span><span class="sc">{</span>start_file<span class="sc">}</span><span class="ss">&quot;</span>)</span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a>start_file <span class="op">=</span> args.html_files[start_file]</span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a><span class="co"># process files (modifies args.processed_items and args.processed_files)</span></span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a>process_files(start_file, in_path, out_path, args)</span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a>...</span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a><span class="co"># check number of unprocessed items</span></span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true" tabindex="-1"></a>unprocessed_items <span class="op">=</span> <span class="bu">set</span>(args.nav_struct.keys()) <span class="op">-</span> args.processed_items</span></code></pre></div>
<p><span id="code:echo-tracking"
data-label="code:echo-tracking"></span></p>
</div>
<p>This makes it possible to compare the number of processed items to
the expected total based on the navigation hierarchy data. Since files
and links are identified by URL, processed links can be removed from the
expected links in the navigation hierarchy using set operations to
generate the set of unprocessed items, as shown in Listing <a
href="#code:echo-tracking" data-reference-type="ref"
data-reference="code:echo-tracking">[code:echo-tracking]</a>. This
method can therefore also show errors in cases where an HTML file name
or link is different from the navigation structure URL, which a simple
count would not reveal.</p>
<h1 data-number="5"
id="method-3-round-trip-entities-and-compare-to-the-source-format"><span
class="header-section-number">5</span> Method 3: Round-trip entities and
compare to the source format</h1>
<p>The most comprehensive and also most time-consuming strategy to test
a transformation from one format into another is the development and
application of an inverse transformation that converts the result format
back into the source format and allows to compare the result to the
original dataset in the original format. This method is the most
comprehensive because it allows to check for data corruption in the
entities as well as for data loss. The method is also time-consuming
because it requires the development of an additional transformation step
that can be similarly complex to the original transformation.</p>
<p>An example for this case is the migration of the ISMI<a href="#fn6"
class="footnote-ref" id="fnref6" role="doc-noteref"><sup>6</sup></a>
project database from a legacy custom database software called OpenMind
using a label-graph data model into a standard CIDOC-CRM based data
model in RDF with a ResearchSpace front end. The biggest challenges in
developing and testing this transformation were differences in the data
models. The original label-graph data model consisted of about 40,000
nodes of 18 types with 60,000 relations whereas the resulting CIDOC-CRM
data model consisted of about 900,000 RDF triples of 100 ontology
classes. In the label-graph model a node of type <code>person</code> has
an attribute <code>name</code> containing the name as a string while in
the CIDOC-CRM model a Person URI has a relation to an Appellation URI
that has a relation to a Literal containing the name. There are
additional differences between the old data model and the new standard
model that required multiple entities for each text and witness entity
in the new FRBRoo-based<a href="#fn7" class="footnote-ref" id="fnref7"
role="doc-noteref"><sup>7</sup></a> model.</p>
<p>The original migration from OpenMind to CIDOC-CRM used the X3ML<a
href="#fn8" class="footnote-ref" id="fnref8"
role="doc-noteref"><sup>8</sup></a> tool and language to create RDF. To
check the results of this transformation, I developed an additional
transformation from RDF back into the original OpenMind data model and a
comparison tool to show differences in the resulting data sets using
Python. Figure <a href="#fig:ismi-round-trip" data-reference-type="ref"
data-reference="fig:ismi-round-trip">1</a> shows a diagram of the full
process.</p>
<p>The ability to run this test was an invaluable asset during the
development of the migration mapping. It allowed to find bugs in the
initial mapping and to refactor the mapping incrementally to better
align with requirements of the ResearchSpace front end, in the knowledge
that any data corruption in the process would become immediately
visible. The functional role that tests can have during software
development is emphasized even more in methods like Test Driven
Development (TDD).</p>
<figure id="fig:ismi-round-trip">
<img src="figures/ismi-round-trip.png" style="width:80.0%"
alt="Figure 1: Round-trip migration from the old OpenMind database model via a X3ML mapping to the new CIDOC-CRM RDF database model and back into the OpenMind model through a Python mapping allowing a Python comparison tool to test the result in the same kind of model." />
<figcaption aria-hidden="true">Figure 1: Round-trip migration from the
old OpenMind database model via a X3ML mapping to the new CIDOC-CRM RDF
database model and back into the OpenMind model through a Python mapping
allowing a Python comparison tool to test the result in the same kind of
model.</figcaption>
</figure>
<p>The comparison tool has options to selectively enable or disable
certain checks or exclude specific relation, attribute, or entity types
as shown in Listing <a href="#code:ismi-compare"
data-reference-type="ref"
data-reference="code:ismi-compare">[code:ismi-compare]</a>. These
options were used during the development process to focus on specific
areas of the transformation in order to not drown in thousands of
unrelated error messages, particularly during the early phase of
development. Watching the number of errors go down was also a satisfying
measure of development progress.</p>
<div class="listing">
<pre class="text" data-fontsize="\scriptsize"><code>usage: compare_models.py [-h] [--version] [--ignore-nodes IGNORE_NODES]
                         [--ignore-attributes IGNORE_ATTRIBUTES]
                         [--ignore-relations IGNORE_RELATIONS] [--show-nodes] [--show-relations]
                         [--show-attributes] [--check-attribute-content] [-l {INFO,DEBUG,ERROR}]
                         file1 file2

Compare two networkx graphs with ISMI data.

positional arguments:
  file1                 First networkx graph in gpickle format
  file2                 Second networkx graph in gpickle format

options:
  -h, --help            show this help message and exit
  --version             show program&#39;s version number and exit
  --ignore-nodes IGNORE_NODES
                        list of node types to ignore (comma-separated)
  --ignore-attributes IGNORE_ATTRIBUTES
                        list of attributes to ignore on all entities (comma-separated)
  --ignore-relations IGNORE_RELATIONS
                        list of relations to ignore on all entities (comma-separated)
  --show-nodes          show node differences in detail
  --show-relations      show relation differences in detail
  --show-attributes     show attribute differences in detail
  --check-attribute-content
                        check attribute content (optional)</code></pre>
<p><span id="code:ismi-compare"
data-label="code:ismi-compare"></span></p>
</div>
<h1 data-number="6" id="conclusion"><span
class="header-section-number">6</span> Conclusion</h1>
<div id="tab:method-abilities">
<table>
<caption>Detection abilities and complexity cost of three
methods.</caption>
<thead>
<tr>
<th style="text-align: left;">Method</th>
<th style="text-align: left;">Detect dropped or added entities</th>
<th style="text-align: left;">Detect corrupted entities</th>
<th style="text-align: center;">Complexity</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">1: Count entities before and after
transformation</td>
<td style="text-align: left;">yes (if total number changes)</td>
<td style="text-align: left;">no</td>
<td style="text-align: center;">low</td>
</tr>
<tr>
<td style="text-align: left;">2: Keep track of entities during
transformation</td>
<td style="text-align: left;">yes</td>
<td style="text-align: left;">possible</td>
<td style="text-align: center;">medium</td>
</tr>
<tr>
<td style="text-align: left;">3: Round-trip entities and compare
result</td>
<td style="text-align: left;">yes</td>
<td style="text-align: left;">yes</td>
<td style="text-align: center;">high</td>
</tr>
</tbody>
</table>
</div>
<p>The three basic methods for testing data integrity presented here
have different strengths and weaknesses and every developer needs to
weigh these against the requirements of the individual project and the
available development resources. Table <a href="#tab:method-abilities"
data-reference-type="ref" data-reference="tab:method-abilities">1</a>
shows an overview of the methods and their ability to detect dropped or
added or corrupted entities versus the implementation complexity.</p>
<p>Creating and running different kinds of tests has become an integral
part of good practice of software development in general. Tests let you
trust your own code during and after active development. Tests also let
others that review or use your code, trust the code. Tests can also be
an active part of the development process when they allow to measure
progress during the early phases of development or when they help to
detect and avoid regressions when refactoring the code. The basic
methods of end-to-end testing of data integrity shown here can be part
of every developer’s toolbox of tests to apply, depending on the
requirements of the development project.</p>
<p>Another good practice of software development is the sharing of code
in—preferably public—repositories to enable code review, re-use, or just
the sharing of programming techniques and ideas. The repositories
containing the scripts used as examples for methods 1 and 2 are not
publicly available, but the scripts used for method 3 are available as
part of the ISMI data model repository.<a href="#fn9"
class="footnote-ref" id="fnref9" role="doc-noteref"><sup>9</sup></a></p>
<h1 class="unnumbered" id="bibliography">References</h1>
<div id="refs" class="references csl-bib-body hanging-indent"
role="list">
<div id="ref-damerow_code_2025" class="csl-entry" role="listitem">
Damerow, Julia, Rebecca Sutton Koeser, Jeffrey C Carver, and Malte Vogl.
2025. <span>“Code Review in Digital Humanities.”</span> <em>Digital
Scholarship in the Humanities</em> 40 (Supplement_1): i18–26. <a
href="https://doi.org/10.1093/llc/fqae052">https://doi.org/10.1093/llc/fqae052</a>.
</div>
<div id="ref-leloudas_introduction_2023" class="csl-entry"
role="listitem">
Leloudas, Panagiotis. 2023. <em>Introduction to <span>Software</span>
<span>Testing</span>: <span>A</span> <span>Practical</span>
<span>Guide</span> to <span>Testing</span>, <span>Design</span>,
<span>Automation</span>, and <span>Execution</span></em>. Apress. <a
href="https://doi.org/10.1007/978-1-4842-9514-4">https://doi.org/10.1007/978-1-4842-9514-4</a>.
</div>
</div>
<section id="footnotes" class="footnotes footnotes-end-of-document"
role="doc-endnotes">
<hr />
<ol>
<li id="fn1"><p><a
href="https://docs.djangoproject.com/en/5.2/topics/db/models/"
class="uri">https://docs.djangoproject.com/en/5.2/topics/db/models/</a><a
href="#fnref1" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn2"><p><a href="https://drupal.org/"
class="uri">https://drupal.org/</a><a href="#fnref2"
class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn3"><p><a href="https://researchspace.org/"
class="uri">https://researchspace.org/</a><a href="#fnref3"
class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn4"><p><a href="https://cidoc-crm.org/"
class="uri">https://cidoc-crm.org/</a><a href="#fnref4"
class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn5"><p><a href="https://www.zope.dev/"
class="uri">https://www.zope.dev/</a><a href="#fnref5"
class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn6"><p><a href="https://ismi.mpiwg-berlin.mpg.de"
class="uri">https://ismi.mpiwg-berlin.mpg.de</a><a href="#fnref6"
class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn7"><p><a href="https://cidoc-crm.org/frbroo/"
class="uri">https://cidoc-crm.org/frbroo/</a><a href="#fnref7"
class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn8"><p><a href="https://github.com/isl/x3ml"
class="uri">https://github.com/isl/x3ml</a><a href="#fnref8"
class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn9"><p><a
href="https://gitlab.gwdg.de/MPIWG/Department-II/ismi-cidoc-model/-/tree/master/Tools/graph-tools"
class="uri">https://gitlab.gwdg.de/MPIWG/Department-II/ismi-cidoc-model/-/tree/master/Tools/graph-tools</a><a
href="#fnref9" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
</ol>
</section>

      </div>
    </div>
  </section>

  <!-- Footer -->
  <footer class="footer">
    <div class="content has-text-centered">
      <p>
        <strong>Anthology of Computers and the Humanities</strong> · Association for Computers and the Humanities
      </p>
      <p class="is-size-7">
        Paper © 2025 the authors. All other content © 2025 ACH.
      </p>
    </div>
  </footer>

  
  <script>
    // Navbar burger menu functionality
    document.addEventListener('DOMContentLoaded', () => {
      // Get all "navbar-burger" elements
      const $navbarBurgers = Array.prototype.slice.call(document.querySelectorAll('.navbar-burger'), 0);
    
      // Add a click event on each of them
      $navbarBurgers.forEach( el => {
        el.addEventListener('click', () => {
          // Get the target from the "data-target" attribute
          const target = el.dataset.target;
          const $target = document.getElementById(target);
    
          // Toggle the "is-active" class on both the "navbar-burger" and the "navbar-menu"
          el.classList.toggle('is-active');
          $target.classList.toggle('is-active');
        });
      });
    });
  </script>

</body>
</html>